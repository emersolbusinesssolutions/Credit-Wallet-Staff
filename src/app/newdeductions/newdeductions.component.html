

<div class = "container-fluid spaceUp" >

  <div class = "row">
      <div class = "col-lg-10 col-lg-offset-2">
         
          <div class = "authDiv">
              <h3 class = "heading">New Deduction</h3><hr/>
              <div class = "row">
                <div class = "col-lg-4">
                    <div class="form-group"> 
                        <p>TELEPHONE NUMBER</p>
                        <input type="text"
                        class="textBoxDesign " id="text" name="telephone"  [(ngModel)]="telephone"  >  
                      </div>


                      <div class="btn-group">

                          <button type="button" (click)="getVerification()" class="btn btn-default">Get Salary Result</button>
                           
                          <div class="btn-group" *ngIf = "nodeduction">
                            <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
                            Set up Deduction <span class="caret"></span></button>
                            <ul class="dropdown-menu" role="menu">
                              <li><a  data-toggle="modal" data-target="#onetime">One-Time</a></li>

                              <li class = "divider"></li>
                              <li><a data-toggle="modal" data-target="#recurring" >Recurring</a></li>
                            </ul>
                          </div>
                         
                        </div>
             </div>
              </div>
              <br/>

              <ul class="nav nav-tabs">
                <li class="active"><a data-toggle="tab" href="#home">Remita Basic Details</a></li>
                <li><a data-toggle="tab" href="#menu1">Salary Details</a></li>
                <li><a data-toggle="tab" href="#menu2">Loan Details</a></li>
              </ul>
              
              <div class="tab-content">
                <div id="home" class="tab-pane fade in active">
                 <br/>
                 <table class="table table-striped table-bordered" *ngIf = "salary">

                  <tr>
                          <th style="padding:15px" scope = "row">REMITA NAME</th>
                          <td style="padding:15px">
                              {{name | titlecase}}
                          </td>
                          <th style="padding:15px" scope = "row">REMITA MDA</th>
                          <td style="padding:15px">{{companyName | titlecase}}</td>
                      </tr>
                  </table>
                </div>
                <div id="menu1" class="tab-pane fade">
                  <br/>
                  <table class="table table-striped table-bordered" *ngIf = "salary">
                  
                    <thead>
                        <tr>
                            <th style="padding:15px" scope = "row">S/NO</th>
                            <th style="padding:15px" scope = "row">AMOUNT</th>
                            <th style="padding:15px" scope = "row">PAYMENT DATE</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr  *ngFor="let payment of salary; let i = index " >
                                <td style="padding:15px">  {{i + 1}}
                                    </td>
                            <td style="padding:15px">  {{payment.amount | currency:'₦': 3}}
                            </td>
                            <td style="padding:15px">{{payment.paymentdate}}</td>
                        </tr>
                    </tbody>
                </table>
                </div>
                <div id="menu2" class="tab-pane fade">
                  <br/>

                  <table class="table table-striped table-bordered" *ngIf = "loan">
                  
                    <thead>
                        <tr>
                            <th style="padding:15px" scope = "row">STATUS</th>
                            <th style="padding:15px" scope = "row">S/NO</th>
                            <th style="padding:15px" scope = "row">LOAN AMOUNT</th>
                            <th style="padding:15px" scope = "row">LOAN DISBURSEMENT DATE</th>
                            <th style="padding:15px" scope = "row">LOAN PROVIDER</th>
                            <th style="padding:15px" scope = "row">OUTSTANDING AMOUNT</th>
                            <th style="padding:15px" scope = "row">REPAYMENT AMOUNT</th>
                            <th style="padding:15px" scope = "row">REPAYMENT FREQUENCY</th>
                            
                        </tr>
                    </thead>
                    <tbody>
                        <tr  *ngFor="let payment of loan; let i = index " >
                                <td style="padding:15px">  {{i + 1}}
                                    </td>
                                    <td style="padding:15px">{{payment.status}}</td>
                                    <td style="padding:15px">{{payment.loanProvider | titlecase}}</td>
                                    <td style="padding:15px">{{payment.outstandingAmount | currency:'₦ ' }}</td>
                                    <td style="padding:15px">{{payment.loanDisbursementDate }}</td>
                                    <td style="padding:15px">{{payment.repaymentAmount | currency:'₦ '  }}</td>
                                    <td style="padding:15px">{{payment.repaymentFreq }}</td>
                                    <td style="padding:15px">{{payment.loanAmount | currency:'₦ ' }}</td>
                        </tr>
                    </tbody>
                </table>
                </div>
               
              </div>
           					

        
          
        </div>
        
  </div>
  
</div>

<div class="modal fade" id="onetime">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span></button>
        <h5 class="modal-title"><b>Set up Deduction (One-Time)</b></h5>
      </div>
      <div class="modal-body">
        <form role="form" novalidate>
          <div class="row">
              <div class="col-md-12">
                <div class="form-group">
                  <p>Loan ID</p>
                  <input class="textBoxDesign " type="text" name="loanid" [(ngModel)]="loanid" required="required">
              </div>
                  <div class="form-group" >
                      <p>Amount</p>
                      <input class="textBoxDesign " type="number" name="amount" [(ngModel)]="amount" required="required">
                  </div>
              </div>
             
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default pull-left" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" (click)="setUpDeductions()">Send</button>
      </div>
    </div>
    <!-- /.modal-content -->
  </div>
  <!-- /.modal-dialog -->
</div>
<div class="modal fade" id="recurring">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span></button>
          <h5 class="modal-title"><b>Set up Deduction (Recurring)</b></h5>
        </div>
        <div class="modal-body">
          <form role="form" novalidate>
            <div class="row">
                <div class="col-md-6">
                  <div class="form-group">
                    <p>Loan ID</p>
                    <input class="form-control " type="text" name="loanid" [(ngModel)]="loanid" required="required">
                </div>
                    <div class="form-group" >
                        <p>Amount</p>
                        <input class="form-control " type="number" name="amount" [(ngModel)]="amount" required="required">
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="form-group">
                      <p>Number of Deductions</p>
                      <input class="form-control " type="number" name="tenor" [(ngModel)]="tenor" required="required">
                  </div>
                      <div class="form-group" >
                          <p>Start Date</p>
                          <my-date-picker name="mydate" [options]="myDatePickerOptions"
                          [(ngModel)]="startdate" required></my-date-picker></div>
                  </div>
               
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default pull-left" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary" (click)="setUpDeductionsRecurring()">Create Recurring Deduction</button>
        </div>
      </div>
      <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
  </div>
</div>
<br/>
<br/>
<br/>
<br/>
