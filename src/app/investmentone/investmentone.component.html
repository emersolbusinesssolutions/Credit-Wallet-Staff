

<div class = "main">

    <div class = "container-fluid spaceUp" >

        <div class = "row" >
            <div class = "col-lg-12">
               
                <div class = "authDiv" *ngIf = "user">
                    <h3 class = "heading"><strong>{{user.firstname | titlecase}} {{user.lastname | titlecase}}</strong> 
                     
                    </h3><hr/>
                    <div >
                        <a *ngIf = "investment.status == '0'" class="btn btn-danger" (click)="cancel()">Cancel</a>
                        <a *ngIf = "investment.status == '1'" class="btn btn-danger" (click)="cancel()">Cancel</a>
                        <a *ngIf = "investment.status == '1'" class="btn btn-default" data-toggle="modal" data-target="#myModalEdit" >Edit Customer Data</a>
                        <a *ngIf = "investment.status == '0'" class="btn btn-default"  data-toggle="modal" data-target="#myModalEdit">Edit Customer Data</a>
                        <a  *ngIf = "investment.status == '0'"class="btn btn-default" data-backdrop="static" data-keyboard="false" id = "modalButton" data-toggle="modal" data-target="#myModal" >Process Documents</a>
                        <a *ngIf = "investment.status == '1'" class="btn btn-default"  id = "modalButton" data-toggle="modal" data-target="#myModalConfirm" data-backdrop="static" data-keyboard="false">Upload to Loan Disk</a>
                        <a *ngIf = "investment.status == '1'" class="btn btn-default"  id = "modalButton" data-toggle="modal" data-target="#myModalComplete" data-backdrop="static" data-keyboard="false">Complete Investment Process</a>
                    </div>
    
                    <hr/>
    
                    <table class="table table-striped  ">
                        
                        <tbody>
                            
                            <tr style="padding:15px" >
                                <th style="padding:15px" scope="row">Title</th> 
                                <td style="padding:15px">{{user.title | titlecase}}</td>
                                <th style="padding:15px" scope="row">Gender</th>
                                <td style="padding:15px">{{user.gender | titlecase}}</td>
                            </tr>
                            <tr style="padding:15px" >
                                <th style="padding:15px" scope="row">Firstname</th> 
                                <td style="padding:15px">{{user.firstname | titlecase}}</td>
                                <th style="padding:15px" scope="row">Lastname</th>
                                <td style="padding:15px">{{user.lastname | titlecase}}</td>
                            </tr>
                            <tr style="padding:15px" >
                                <th style="padding:15px" scope="row">Email Address</th> 
                                <td style="padding:15px">{{user.email}}</td>
                                <th style="padding:15px" scope="row">CW Number</th>
                                <td style="padding:15px">{{user.uniquenumber}}</td>
                            </tr>
                            <tr style="padding:15px" >
                              <th style="padding:15px" scope="row">Telephone Number</th> 
                              <td style="padding:15px">{{user.telephone}}</td>
                              <th style="padding:15px" scope="row">Payment Reference</th>
                              <td style="padding:15px">{{investment.paymentref}}</td>
                          </tr>
                          
                            <tr style="padding:15px" >
                                <th style="padding:15px" scope="row">Bank Name</th> 
                                <td style="padding:15px"><span *ngIf="user.bankcode == '044'">ACCESS BANK PLC</span>
                                  <span *ngIf="user.bankcode == '023'">CITI BANK</span>
                                  <span *ngIf="user.bankcode == '063'">DIAMOND BANK PLC</span>
                                  <span *ngIf="user.bankcode == '050'">ECOBANK NIGERIA PLC</span>
                                  <span *ngIf="user.bankcode == '070'">FIDELITY BANK PLC</span>
                                  <span *ngIf="user.bankcode == '011'">FIRST BANK OF NIGERIA PLC</span>
                                  <span *ngIf="user.bankcode == '214'">FIRST CITY MONUMENT BANK PLC</span>
                                  <span *ngIf="user.bankcode == '058'">GUARANTY TRUST BANK PLC</span>
                                  <span *ngIf="user.bankcode == '030'">HERITAGE BANK</span>
                                  <span *ngIf="user.bankcode == '301'">JAIZ BANK</span>
                                  <span *ngIf="user.bankcode == '082'">KEYSTONE BANK</span>
                                  <span *ngIf="user.bankcode == '076'">SKYE BANK PLC</span>
                                  <span *ngIf="user.bankcode == '221'">STANBIC-IBTC BANK PLC</span>
                                  <span *ngIf="user.bankcode == '232'">STERLING BANK PLC</span>
                                  <span *ngIf="user.bankcode == '100'">SUNTRUST BANK</span>
                                  <span *ngIf="user.bankcode == '032'">UNION BANK OF NIGERIA PLC</span>
                                  <span *ngIf="user.bankcode == '033'">UNITED BANK FOR AFRICA PLC</span>
                                  <span *ngIf="user.bankcode == '215'">UNITY BANK PLC</span>
                                  <span *ngIf="user.bankcode == '035'">WEMA BANK PLC</span>
                                  <span *ngIf="user.bankcode == '057'">ZENITH BANK PLC</span></td>
                                <th style="padding:15px" scope="row">Account Number</th>
                                <td style="padding:15px">{{user.accountnumber}}</td>
                            </tr>
                            
                        </tbody>
                    </table>
    
                    <ul class="nav nav-tabs">
                        <li class="active" ><a style="border-radius:0px; color:#1B4E63" data-toggle="tab" href="#home">Investment Details</a></li>
                        <li><a data-toggle="tab" href="#menu2" style="border-radius:0px; color:#1B4E63">Transaction Schedule</a></li>
                        <li><a data-toggle="tab" href="#menu3" style="border-radius:0px; color:#1B4E63">Loan Disk Operations</a></li>
                       <!-- <li><a data-toggle="tab" href="#menu7" style="border-radius:0px; color:#1B4E63">Reschedule</a></li> --> 
                      </ul>
    
                      
                  <div class="tab-content">
                      <div id="home" class="tab-pane fade in active">
                        <br/>

                        <a class = "btn btn-default" target="blank" href = "https://test.creditwallet.ng/TestPDF/{{investment.process_investment_schedule}}">Proposed Deposit Terms</a>

                        <a class = "btn btn-default"  target="blank" href = "https://test.creditwallet.ng/TestPDF/{{investment.process_savings_statement}}">Proposed Investment Schedule</a>

                        <a class = "btn btn-default" target="blank" href = "https://test.creditwallet.ng/TestPDF/{{investment.confirm_investment_schedule}}">Confirmed Deposit Terms</a>

                        <a class = "btn btn-default"  target="blank" href = "https://test.creditwallet.ng/TestPDF/{{investment.confirm_savings_statement}}">Confirmed Investment Schedule</a>
                        <br/> <br/>

                          <table class="table table-striped">
                        
                              <tbody>
                                  
                                  <tr style="padding:15px" >
                                      <th style="padding:15px" scope="row">Amount</th> 
                                      <td style="padding:15px">{{investment.amount  | currency:'₦': 3}}</td>
                                      <th style="padding:15px" scope="row">Duration</th>
                                      <td style="padding:15px">{{investment.duration}} Months</td>
                                      <th style="padding:15px" scope="row">Interest Rate</th>
                                      <td style="padding:15px">{{investment.interestrate}}%</td>
                                      <th style="padding:15px" scope="row">Referral Code</th>
                                      <td style="padding:15px">{{investment.code | uppercase}}</td>
                                  </tr>
                                  <tr style="padding:15px" >
                                      <th style="padding:15px" scope="row">Start Date</th> 
                                      <td style="padding:15px">{{investment.startdate  | date : 'MMM d, y' }}</td>
                                      <th style="padding:15px" scope="row">End Date</th>
                                      <td style="padding:15px">{{investment.enddate | date : 'MMM d, y'}}</td>
                                      <th style="padding:15px" scope="row">First Month Interest</th>
                                      <td style="padding:15px">{{investment.firstinterestamount | currency:'₦': 3}}</td>
                                      <th style="padding:15px" scope="row">Subsequent Monthly Interest</th>
                                      <td style="padding:15px">{{investment.lastinterestamount | currency:'₦': 3}}</td>
                                  </tr>
                                 
                                  
                              </tbody>
                          </table>
                      </div>
                      <div id="menu2" class="tab-pane fade in">
                          <br/>
                            <table class="table table-striped table-bordered">
                                <thead>
                                    <tr>
                                    <th>S/No</th>
                                    <th>Due Date</th>
                                    <th>Account</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    
                                    <tr style="padding:15px" *ngFor = "let trans of investmenttransactions; let i = index" >
                                        <td style="padding:15px">{{i + 1}}</td>
    
                                        <td style="padding:15px">{{trans.duedate  | date : 'MMM d, y' }}</td>
                                        <td style="padding:15px">{{trans.interestamount | currency:'₦': 3}}</td>
                                    </tr>
                                   
                                    
                                </tbody>
                            </table>
                        </div>

                        <div id="menu3" class="tab-pane fade in">
                            <br/>
                            
                              <table class="table table-striped table-bordered" *ngIf = "investment.savings_id">
                                  <thead>
                                      <tr>
                                      <th>S/No</th>
                                      <th>Due Date</th>
                                      <th>Account</th>
                                      <th></th>
                                      </tr>
                                  </thead>
                                  <tbody>
                                      
                                      <tr style="padding:15px" *ngFor = "let trans of investmenttransactions; let i = index" >
                                          <td style="padding:15px">{{i + 1}}</td>
      
                                          <td style="padding:15px">{{trans.duedate  | date : 'MMM d, y' }}</td>
                                          <td style="padding:15px">{{trans.interestamount | currency:'₦': 3}}</td>
                                          <td style="padding:15px"> <a (click)="transferout(trans);"  class="btn btn-primary" *ngIf ="trans.transstatus == '0' ">Add Transfer Out</a></td>
                                      </tr>
                                     
                                      
                                  </tbody>
                              </table>
                          </div>
                  </div>
    
    
      
                    
                       
      
                 
                
              </div>
              
        </div>
        
      </div>
      </div>
      <br/>
      <br/>
      <br/>
      <br/>
      
    
      
      <div id="myModal" class="modal fade" role="dialog" >
          <div class="modal-dialog">
        
            <!-- Modal content-->
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Process Investment Documents</h4>
              </div>
              <div class="modal-body">
                  <div class = "form-group">
                      <p>Start Date</p>
                      <input type="date"
                      class="textBoxDesign " id="startdate" name="startdate" [(ngModel)]="startdate" >  
                     </div>
                <div class = "form-group">
                 <p>Amount</p>
                 <input type="text"
                 class="textBoxDesign " pattern="^[$\-\s][\d\,]?([\.]\d{0,10})?\s*$" name="amount" (input)="amount = format(amount)" [(ngModel)]="amount" id="name" name="name" [(ngModel)]="amount" >  
                </div>
                <div class = "form-group">
                  <p>Duration</p>
                  <select class="textBoxDesign " id="duration" name="duration" [(ngModel)]="duration" >
                    <option value = "6">6 Months</option>
                    <option value = "12">12 Months</option>
                  </select> 
                 </div>
                 <div class = "form-group">
                  <p>Interest</p>
                  <input type="number"
                  class="textBoxDesign " min="2" max="5"  id="interestrate" name="interestrate" (ngModelChange)="setinterest()"  [(ngModel)]="interestrate" >  
                 </div>
                
              </div>
              <div class="modal-footer">
                <button type="button" style="float:left" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" style="float:right" class="btn btn-success"  (click)="investmentprocess()">Send</button>
              </div>
            </div>
        
          </div>
        </div>

        <div id="myModalConfirm" class="modal fade" role="dialog">
            <div class="modal-dialog">
          
              <!-- Modal content-->
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                  <h4 class="modal-title">Confirm Payment</h4>
                </div>
                <div class="modal-body">
                    <div class = "form-group">
                        <p>Start Date</p>
                        <input type="date"
                        class="textBoxDesign " id="startdate" name="startdate" [(ngModel)]="startdate" >  
                       </div>
                  <div class = "form-group">
                   <p>Amount</p>
                   <input type="text"
                   class="textBoxDesign " pattern="^[$\-\s][\d\,]?([\.]\d{0,10})?\s*$" name="amount" (input)="amount = format(amount)"  id="name" [(ngModel)]="amount" >  
                  </div>
                  <div class = "form-group">
                    <p>Duration</p>
                    <select class="textBoxDesign " id="duration" name="duration" [(ngModel)]="duration" >
                      <option value = "6">6 Months</option>
                      <option value = "12">12 Months</option>
                    </select>
                   </div>
                   <div class = "form-group">
                    <p>Interest</p>
                    <input type="number"
                    class="textBoxDesign " min="2" max="5"  id="interestrate" name="interestrate" (ngModelChange)="setinterest()"  [(ngModel)]="interestrate" >  
                   </div>
                   <div class = "form-group">
                     <p>Savings Product</p>
                      <select  class="textBoxDesign " id="savingsproduct" name="savingsproductid" [(ngModel)]="savingsproductid">
                       <option value = "696">High Yield Deposit</option>
                       <option value = "697">Std Yield Deposit</option>
                       <option value = "717">Gold Yield Deposit</option>
                       <option value = "1671">Gold Yield Deposit (UK)</option>
                       <option value = "1885">Special Yield</option>
                       <option value = "1913">Diamond Yeild</option>
                       <option value = "1914">Platinum Yield</option>
                       <option value = "1939">US $ Diamond Yield</option>
                       <option value = "1960">High Yield Deposit</option>
                       <option value = "2135">Gold Yield Investment</option>
                      </select>
                   </div>
                  
                </div>
                <div class="modal-footer">
                  <button type="button" style="float:left" class="btn btn-default" data-dismiss="modal">Close</button>
                  <button type="button" style="float:right" class="btn btn-success"  (click)="confirmpayment()">Send</button>
                </div>
              </div>
          
            </div>
          </div>

          <div id="myModalComplete" class="modal fade" role="dialog">
            <div class="modal-dialog">
          
              <!-- Modal content-->
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                  <h4 class="modal-title">Complete Investment Process</h4>
                </div>
                <div class="modal-body">
                  <div class = "form-group">
                   <p>Borrower Invite Link</p>
                   <textarea type="text"
                   class="textBoxDesign " id="link" name="link" [(ngModel)]="link" >  </textarea>
                  </div>
                  
                  
                </div>
                <div class="modal-footer">
                  <button type="button" style="float:left" class="btn btn-default" data-dismiss="modal">Close</button>
                  <button type="button" style="float:right" class="btn btn-success"  (click)="completeInvestment()">Send</button>
                </div>
              </div>
          
            </div>
          </div>

          <div id="myModalEdit" class="modal fade" role="dialog" *ngIf = "user">
            <div class="modal-dialog">
          
              <!-- Modal content-->
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                  <h4 class="modal-title">Edit Application Form</h4>
                </div>
                <div class="modal-body">
                  <div class = "row">
                    <div class="col-lg-6">
                      <div class = "form-group">
                        <p>Title</p>
                        <select  class="textBoxDesign "  name="title" [(ngModel)]="user.title">
                          <option value = "Alhaja">Alhaja</option>
                          <option value = "Alhaji">Alhaji</option>
                          <option value = "Chief">Chief</option>
                          <option value = "Dr">Dr</option>
                          <option value = "Miss">Miss</option>
                          <option value = "Mr">Mr</option>
                          <option value = "Mrs">Mrs</option>
                        </select>
                       </div>
                    </div>
                    <div class="col-lg-6">
                      <div class = "form-group">
                        <p>Title</p>
                        <select  class="textBoxDesign "  name="title" [(ngModel)]="user.gender">
                          <option value = "Male">Male</option>
                          <option value = "Female">Female</option>
                        </select>
                       </div>
                    </div>
                  </div>
                  <div class = "row">
                    <div class="col-lg-6">
                      <div class = "form-group">
                        <p>Firstname</p>
                        <input type="text"
                        class="textBoxDesign " id="link" name="firstname" [(ngModel)]="user.firstname" >  
                       </div>
                    </div>
                    <div class="col-lg-6">
                      <div class = "form-group">
                        <p>Lastname</p>
                        <input type="text"
                        class="textBoxDesign " id="link" name="lastname" [(ngModel)]="user.lastname" > 
                       </div>
                    </div>
                  </div>

                  <div class = "row">
                    <div class="col-lg-6">
                      <div class = "form-group">
                        <p>Email Address</p>
                        <input type="text"
                        class="textBoxDesign " id="link" name="email" [(ngModel)]="user.email" >  
                       </div>
                    </div>
                    <div class="col-lg-6">
                      <div class = "form-group">
                        <p>Telephone</p>
                        <input type="text"
                        class="textBoxDesign " id="link" name="telephone" [(ngModel)]="user.telephone" > 
                       </div>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <p>Preferred Bank Name</p>
                          

                            <select
                                         class="textBoxDesign" id="text" name="bankcode" [(ngModel)]="user.bankcode">
                                         <option value = "044">ACCESS BANK PLC</option>
                                         <option value = "023">CITI BANK</option>
                                         <option value = "063">DIAMOND BANK PLC</option>
                                         <option value = "050">ECOBANK NIGERIA PLC</option>
                                         <option value = "070">FIDELITY BANK PLC</option>
                                         <option value = "011">FIRST BANK OF NIGERIA PLC</option>
                                         <option value = "214">FIRST CITY MONUMENT BANK PLC</option>
                                         <option value = "058">GUARANTY TRUST BANK PLC</option>
                                         <option value = "030">HERITAGE BANK</option>
                                         <option value = "301">JAIZ BANK</option>
                                         <option value = "082">KEYSTONE BANK</option>
                                         <option value = "101">PROVIDOUS BANK</option>
                                         <option value = "076">SKYE BANK PLC</option>
                                         <option value = "221">STANBIC-IBTC BANK PLC</option>
                                         <option value = "068">STANDARD CHARTERED</option>
                                         <option value = "232">STERLING BANK PLC</option>
                                         <option value = "100">SUNTRUST BANK</option>
                                         <option value = "032">UNION BANK OF NIGERIA PLC</option>
                                         <option value = "033">UNITED BANK FOR AFRICA PLC</option>
                                         <option value = "215">UNITY BANK PLC</option>
                                         <option value = "035">WEMA BANK PLC</option>
                                         <option value = "057">ZENITH BANK PLC</option>
                                         </select>

                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <p>Preferred Bank Account</p>
                            <input class="textBoxDesign " type="text" name="accountnumber" [(ngModel)]="user.accountnumber" required="">
                        </div>
                    </div>
                </div>
                  
                  
                  
                </div>
                <div class="modal-footer">
                  <button type="button" style="float:left" class="btn btn-default" data-dismiss="modal">Close</button>
                  <button type="button" style="float:right" class="btn btn-success"  (click)="edit()">Send</button>
                </div>
              </div>
          
            </div>
          </div>
</div>

  
  